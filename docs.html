<!DOCTYPE html><html><head><title>Twix.js</title><link href="stylesheets/twix.css" rel="stylesheet" type="text/css" /><script src="javascripts/twix-site.js" type="text/javascript"></script></head><body><div id="navbar"><div class="container"><div class="pull-left" id="title"><a href="index.html">Twix.js</a></div><ul class="nav nav-pills pull-right"><li><a href="index.html">Home</a></li><li class="active"><a href="docs.html">Docs</a></li><li><a href="tests.html">Tests ↗</a></li><li><a href="https://github.com/icambron/twix.js">Github ↗</a></li></ul></div></div><div class="container docs"><div class="row"><div class="col-md-9"><p>Twix.js is a <a href="http://momentjs.com">Moment.js</a> plugin for working with time ranges. Use it to manipulate, interrogate, and <a href="#smart-formatting">intelligently format</a> a block of time. You can find the source on <a href="http://github.com/icambron/twix.js">Github</a> and the docs here.</p>

<h2 id="getting-started">Getting started</h2>

<h3 id="browser">Browser</h3>

<p>Grab <a href="https://raw.github.com/icambron/twix.js/master/dist/twix.min.js">the file</a> as well as <a href="https://raw.githubusercontent.com/moment/moment/master/min/moment.min.js">moment.js</a>. Then simply reference twix after Moment:</p>
<pre class="html highlight"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"moment.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"twix.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>

<p>If you want to pull from a CDN, <a href="http://www.jsdelivr.com/projects/twix.js">this one</a> is automatically kept up to date.</p>

<h3 id="browser-with-requirejs">Browser with RequireJS</h3>

<p>Twix supports AMD, so you can load it as a RequireJS module. Natrually, it depends on Moment:</p>
<pre class="javascript highlight"><code><span class="nx">define</span><span class="p">([</span><span class="s2">"moment"</span><span class="p">,</span> <span class="s2">"twix"</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">moment</span><span class="p">){</span>
 <span class="c1">//you don't usually need a reference to twix itself</span>
<span class="p">});</span>
</code></pre>

<h3 id="node-js">Node.js</h3>

<p>To install, run</p>
<pre class="plaintext highlight"><code>npm install twix
</code></pre>

<p>And then in your application, just <code>require</code> Moment and Twix.</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">moment</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moment'</span><span class="p">);</span>
<span class="nx">require</span><span class="p">(</span><span class="s1">'twix'</span><span class="p">);</span>
</code></pre>

<h2 id="creating-ranges">Creating ranges</h2>

<p>Twix mixes the <code>twix()</code> method into all Moment objects. You use that to create a time range from that Moment:</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">range</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="nx">startTime</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="nx">endTime</span><span class="p">);</span> <span class="c1">//=&gt; from start time until end time</span>
</code></pre>

<p>You can also create a range &quot;statically&quot;:</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">range</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">.</span><span class="nx">twix</span><span class="p">(</span><span class="nx">startTime</span><span class="p">,</span> <span class="nx">endTime</span><span class="p">);</span>
</code></pre>

<p>You can also create a range from a Moment duration object. See <a href="#working-with-moment-durations">Creating a range from a duration</a>.</p>

<h3 id="inputs-accepted">Inputs accepted</h3>

<p>TLDR, do one of these:</p>
<pre class="javascript highlight"><code><span class="nx">someMoment</span><span class="p">.</span><span class="nx">twix</span><span class="p">(</span><span class="nx">otherMoment</span><span class="p">);</span>
<span class="nx">someMoment</span><span class="p">.</span><span class="nx">twix</span><span class="p">(</span><span class="s1">'2012-05-25'</span><span class="p">);</span>
<span class="nx">someMoment</span><span class="p">.</span><span class="nx">twix</span><span class="p">({</span><span class="na">year</span><span class="p">:</span> <span class="mi">2012</span><span class="p">,</span> <span class="na">month</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="na">day</span><span class="p">:</span> <span class="mi">25</span><span class="p">});</span>
<span class="nx">someMoment</span><span class="p">.</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"05/25/1982"</span><span class="p">,</span> <span class="s2">"MM/DD/YYYY"</span><span class="p">,</span> <span class="p">{</span><span class="na">parseStrict</span><span class="p">:</span> <span class="kc">true</span><span class="p">});</span>
</code></pre>

<p>More comprehensively, this is the signature:</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">.</span><span class="nx">twix</span><span class="p">(</span><span class="nx">anyMomentArg</span><span class="p">,</span> <span class="p">[</span><span class="nx">parseFormatString</span><span class="p">,]</span> <span class="nx">optionsObject</span><span class="p">);</span>
</code></pre>

<p>That allows you to pass:</p>

<ul>
<li>A JS Date object: <code>someMoment.twix(new Date(...))</code></li>
<li>A Moment object: <code>someMoment.twix(otherMoment)</code></li>
<li>Any other single-argument you can construct a Moment with, like an <a href="http://momentjs.com/docs/#/parsing/array/">array</a>, a <a href="http://momentjs.com/docs/#/parsing/object/">POJSO</a>, or an <a href="http://momentjs.com/docs/#/parsing/string/">ISO-compliant string</a>.</li>
<li>A parsable string and a parse format: <code>someMoment.twix(&#39;2012 August&#39;, &#39;YYYY MMM&#39;)</code>. The format is <a href="http://momentjs.com/docs/#/parsing/string-format/">specified by Moment</a>. You can also use Moment&#39;s strict parsing by specifying the <code>parseStrict</code> option, like <code>someMoment.twix(&#39;2012 August&#39;, &#39;YYYY MMM&#39;, {parseStrict: true})</code>.</li>
</ul>

<p>If you want more complicated parsing, just use Moment for that:</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">startTime</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s1">'2012 juillet'</span><span class="p">,</span> <span class="s1">'YYYY MMM'</span><span class="p">,</span> <span class="s1">'fr'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">endTime</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s1">'2012 August'</span><span class="p">,</span> <span class="s1">'YYYY MMM'</span><span class="p">,</span> <span class="s1">'en'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">range</span> <span class="o">=</span> <span class="nx">startTime</span><span class="p">.</span><span class="nx">twix</span><span class="p">(</span><span class="nx">endTime</span><span class="p">);</span> <span class="c1">//=&gt; from July 1 to August 1</span>
</code></pre>

<h3 id="using-all-day-ranges">Using all-day ranges</h3>

<p>Regular ranges last from a specific millisecond another specific millisecond. All-day ranges, on the other hand, capture the concept of the entire day. It&#39;s an important distinction in several respects:</p>

<ul>
<li>The ranges are actually different times. A regular range from 5/25 - 5/26 is from 5/25, 12:00 AM to 5/26, 12:00, where as the all day range is over both days.</li>
<li>All of Twix&#39;s functions respect all-day semantics.</li>
<li>The time range is formatted differently -- see <a href="#formatting-all-day">below</a> for more information.</li>
</ul>

<p>You create an all-day range by specifying the <code>allDay</code> option:</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s1">'1982-05-25'</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s1">'1982-05-26'</span><span class="p">,</span> <span class="p">{</span><span class="na">allDay</span><span class="p">:</span> <span class="kc">true</span><span class="p">});</span>
</code></pre>

<p>You can also pass a boolean instead of the option hash, and Twix will use it as the all-day option:</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s1">'1982-05-25'</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s1">'1982-05-26'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</code></pre>

<h2 id="basic-operations">Basic operations</h2>

<h3 id="isvalid">isValid</h3>

<p>Returns false if the range&#39;s start time is after the end time, and true
otherwise.</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">().</span><span class="nx">twix</span><span class="p">(</span><span class="nx">moment</span><span class="p">()).</span><span class="nx">isValid</span><span class="p">();</span>                    <span class="c1">//=&gt; true</span>
<span class="nx">moment</span><span class="p">().</span><span class="nx">twix</span><span class="p">(</span><span class="nx">moment</span><span class="p">().</span><span class="nx">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">"day"</span><span class="p">)).</span><span class="nx">isValid</span><span class="p">();</span>      <span class="c1">//=&gt; true</span>
<span class="nx">moment</span><span class="p">().</span><span class="nx">twix</span><span class="p">(</span><span class="nx">moment</span><span class="p">().</span><span class="nx">subtract</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">"day"</span><span class="p">)).</span><span class="nx">isValid</span><span class="p">();</span> <span class="c1">//=&gt; false</span>
</code></pre>

<h3 id="issame">isSame</h3>

<p>Does the range begin and end on the same minute/hour/day/month/year? Any time period understood by Moment will work.</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25T05:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-26T06:00"</span><span class="p">).</span><span class="nx">isSame</span><span class="p">(</span><span class="s2">"day"</span><span class="p">);</span>  <span class="c1">//=&gt; false</span>
<span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25T05:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-25T06:00"</span><span class="p">).</span><span class="nx">isSame</span><span class="p">(</span><span class="s2">"day"</span><span class="p">);</span>  <span class="c1">//=&gt; true</span>
<span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25T05:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-25T06:00"</span><span class="p">).</span><span class="nx">isSame</span><span class="p">(</span><span class="s2">"year"</span><span class="p">);</span> <span class="c1">//=&gt; true</span>
</code></pre>

<h3 id="ispast">isPast</h3>

<p>Does the range end in the past?</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-26"</span><span class="p">).</span><span class="nx">isPast</span><span class="p">();</span> <span class="c1">//=&gt; true</span>
</code></pre>

<h3 id="isfuture">isFuture</h3>

<p>Does the range start in the future?</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s2">"2054-05-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"2054-05-26"</span><span class="p">).</span><span class="nx">isFuture</span><span class="p">();</span> <span class="c1">//=&gt; true</span>
</code></pre>

<h3 id="iscurrent">isCurrent</h3>

<p>Does the range include the current time?</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">.</span><span class="nx">subtract</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">"hour"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="nx">moment</span><span class="p">().</span><span class="nx">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">"hour"</span><span class="p">)).</span><span class="nx">isCurrent</span><span class="p">();</span> <span class="c1">//=&gt; true</span>
</code></pre>

<h3 id="contains">contains</h3>

<p>Determine whether a range contains a time. You can pass in a Moment object, a JS date, or a string parsable by the Date constructor. The range is considered inclusive of its endpoints.</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-28"</span><span class="p">).</span><span class="nx">contains</span><span class="p">(</span><span class="s2">"1982-05-26"</span><span class="p">);</span> <span class="c1">//=&gt; true</span>
</code></pre>

<h3 id="length">length</h3>

<p>Calculate the length of the range in terms of minutes/hours/days/months/etc. Any time period understood by Moment will work. Accepts an optional boolean argument to switch on floating point results.</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25T05:30"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-25T06:30"</span><span class="p">).</span><span class="nx">length</span><span class="p">(</span><span class="s2">"hours"</span><span class="p">)</span>  <span class="c1">//=&gt; 1</span>
<span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25T05:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-30T06:00"</span><span class="p">).</span><span class="nx">length</span><span class="p">(</span><span class="s2">"days"</span><span class="p">)</span>   <span class="c1">//=&gt; 5.041666666666667</span>
<span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25T05:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-30T06:00"</span><span class="p">).</span><span class="nx">length</span><span class="p">(</span><span class="s2">"days"</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>   <span class="c1">//=&gt; 6</span>
</code></pre>

<p>See also <a href="#reating-a-duration-from-a-range">asDuration()</a>.</p>

<h3 id="count">count</h3>

<p>The number of minutes/hours/days/months/years the range includes, even in part. Any time period understood by Moment will work.</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25T05:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-25T06:00"</span><span class="p">).</span><span class="nx">count</span><span class="p">(</span><span class="s2">"days"</span><span class="p">)</span>  <span class="c1">//=&gt; 1</span>
<span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25T05:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-26T06:00"</span><span class="p">).</span><span class="nx">count</span><span class="p">(</span><span class="s2">"days"</span><span class="p">)</span>  <span class="c1">//=&gt; 2</span>
</code></pre>

<p>Note that this is counting sections of the calendar, not periods of time. So it asks &quot;what dates are included by this range?&quot; as opposed to &quot;how many 24-hour periods are contained in this range?&quot; For the latter, see <a href="#length">length()</a>.</p>

<h3 id="countinner">countInner</h3>

<p><a id="counter-inner-int"></a>
The number of minutes/hours/days/months/years that are completely contained, such that both the beginning and end of the period fall inside the range. Any time period understood by Moment will work.</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25T05:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-25T06:00"</span><span class="p">).</span><span class="nx">countInner</span><span class="p">(</span><span class="s2">"days"</span><span class="p">)</span>  <span class="c1">//=&gt; 0</span>
<span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-24T05:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-26T06:00"</span><span class="p">).</span><span class="nx">countInner</span><span class="p">(</span><span class="s2">"days"</span><span class="p">)</span>  <span class="c1">//=&gt; 1</span>
</code></pre>

<p>See also <a href="#count">count()</a> and <a href="#length">length()</a>.</p>

<h3 id="iterate">iterate</h3>

<p><a id="iterate-int"></a>
Returns an iterator that will return each a Moment for each time period included in the range. Any time period understood by Moment will work.</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">iter</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25T05:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-26T06:00"</span><span class="p">).</span><span class="nx">iterate</span><span class="p">(</span><span class="s2">"days"</span><span class="p">);</span>
<span class="nx">iter</span><span class="p">.</span><span class="nx">hasNext</span><span class="p">();</span> <span class="c1">//=&gt; true</span>
<span class="nx">iter</span><span class="p">.</span><span class="nx">next</span><span class="p">();</span> <span class="c1">//=&gt; moment("1982-05-25")</span>
<span class="nx">iter</span><span class="p">.</span><span class="nx">next</span><span class="p">();</span> <span class="c1">//=&gt; moment("1982-05-26")</span>
<span class="nx">iter</span><span class="p">.</span><span class="nx">hasNext</span><span class="p">();</span> <span class="c1">//=&gt; false</span>
<span class="nx">iter</span><span class="p">.</span><span class="nx">next</span><span class="p">();</span> <span class="c1">//=&gt; null</span>
</code></pre>

<p>You can also iterate with more complicated periods like &quot;2 hours&quot; or &quot;4 days&quot;.</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">iter</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"16"</span><span class="p">,</span> <span class="s2">"hh"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="nx">endTime</span><span class="p">).</span><span class="nx">iterate</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'hours'</span><span class="p">);</span>
<span class="nx">iter</span><span class="p">.</span><span class="nx">next</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'LT'</span><span class="p">);</span> <span class="c1">//=&gt; '4:00 PM'</span>
<span class="nx">iter</span><span class="p">.</span><span class="nx">next</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'LT'</span><span class="p">);</span> <span class="c1">//=&gt; '6:00 PM'</span>
</code></pre>

<p>It also works with arbitrary durations objects:</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">duration</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">.</span><span class="nx">duration</span><span class="p">({</span><span class="na">hours</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="na">minutes</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="na">seconds</span><span class="p">:</span> <span class="mi">20</span><span class="p">});</span>
<span class="kd">var</span> <span class="nx">iter</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"16"</span><span class="p">,</span> <span class="s2">"hh"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="nx">endTime</span><span class="p">).</span><span class="nx">iterate</span><span class="p">(</span><span class="nx">duration</span><span class="p">);</span>
<span class="nx">iter</span><span class="p">.</span><span class="nx">next</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'LT'</span><span class="p">);</span> <span class="c1">//=&gt; '4:00 PM'</span>
<span class="nx">iter</span><span class="p">.</span><span class="nx">next</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'LT'</span><span class="p">);</span> <span class="c1">//=&gt; '6:30 PM'</span>
<span class="nx">iter</span><span class="p">.</span><span class="nx">next</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'LT'</span><span class="p">);</span> <span class="c1">//=&gt; '9:00 PM'</span>
</code></pre>

<h3 id="iterateinner">iterateInner</h3>

<p>Like <a href="#iterate">iterate()</a>, but only for days completely contained in the range.</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">iter</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-24T05:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-27T06:00"</span><span class="p">).</span><span class="nx">iterateInner</span><span class="p">(</span><span class="s2">"days"</span><span class="p">);</span>
<span class="nx">iter</span><span class="p">.</span><span class="nx">hasNext</span><span class="p">();</span> <span class="c1">//=&gt; true</span>
<span class="nx">iter</span><span class="p">.</span><span class="nx">next</span><span class="p">();</span> <span class="c1">//=&gt; moment("1982-05-25")</span>
<span class="nx">iter</span><span class="p">.</span><span class="nx">next</span><span class="p">();</span> <span class="c1">//=&gt; moment("1982-05-26")</span>
<span class="nx">iter</span><span class="p">.</span><span class="nx">hasNext</span><span class="p">();</span> <span class="c1">//=&gt; false</span>
<span class="nx">iter</span><span class="p">.</span><span class="nx">next</span><span class="p">();</span> <span class="c1">//=&gt; null</span>
</code></pre>

<p><code>iterateInner</code> takes all the same duration arguments as <code>iterate</code>.</p>

<h3 id="toarray">toArray</h3>

<p>Returns an array of Moment objects from the range, spaced out by the specified period. Works the same as <a href="#iterate">iterate()</a> and takes all the same arguments, but collects the results for you.</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s1">'1982-05-24T05:00'</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s1">'1982-05-27T06:00'</span><span class="p">).</span><span class="nx">toArray</span><span class="p">(</span><span class="s1">'days'</span><span class="p">);</span>
<span class="nx">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">format</span><span class="p">(</span><span class="s1">'LLL'</span><span class="p">);</span> <span class="c1">//=&gt; 'May 24, 1982 12:00 AM'</span>
<span class="nx">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">format</span><span class="p">(</span><span class="s1">'LLL'</span><span class="p">);</span> <span class="c1">//=&gt; 'May 25, 1982 12:00 AM'</span>
<span class="nx">arr</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">format</span><span class="p">(</span><span class="s1">'LLL'</span><span class="p">);</span> <span class="c1">//=&gt; 'May 26, 1982 12:00 AM'</span>
</code></pre>

<h3 id="start">start</h3>

<p>Returns the start of the range as a Moment instance. Mutating the returned value does not affect the range. This accessor is often useful when using Twix functions that create ranges, such as <code>split()</code> and <code>intersection()</code>.</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-24T05:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="nx">someTime</span><span class="p">).</span><span class="nx">start</span><span class="p">();</span> <span class="c1">//=&gt; moment("1982-05-25T05:00")</span>
</code></pre>

<h3 id="end">end</h3>

<p>Returns the end of the range as a Moment instance. Mutating the returned value does not affect the range. This accessor is often useful when using Twix functions that create ranges, such as <code>split()</code> and <code>intersection()</code>.</p>
<pre class="javascript highlight"><code> <span class="nx">moment</span><span class="p">(</span><span class="nx">someTime</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-27T06:00"</span><span class="p">).</span><span class="nx">end</span><span class="p">();</span> <span class="c1">//=&gt; moment("1982-05-27T06:00")</span>
</code></pre>

<h2 id="multiple-ranges">Multiple ranges</h2>

<h3 id="overlaps">overlaps</h3>

<p>Does this range overlap another range?</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">range1</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-30"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">range2</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-27"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-06-13"</span><span class="p">);</span>

<span class="nx">range1</span><span class="p">.</span><span class="nx">overlaps</span><span class="p">(</span><span class="nx">range2</span><span class="p">);</span> <span class="c1">//=&gt; true</span>
</code></pre>

<h3 id="engulfs">engulfs</h3>

<p>Does this range have a start time before and an end time after another range?</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">range1</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-08-30"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">range2</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-27"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-06-13"</span><span class="p">);</span>

<span class="nx">range1</span><span class="p">.</span><span class="nx">engulfs</span><span class="p">(</span><span class="nx">range2</span><span class="p">);</span> <span class="c1">//=&gt; true</span>
<span class="nx">range2</span><span class="p">.</span><span class="nx">engulfs</span><span class="p">(</span><span class="nx">range1</span><span class="p">);</span> <span class="c1">//=&gt; false</span>
</code></pre>

<h3 id="equals">equals</h3>

<p>Are these two ranges the same? Equality also requires that either both or neither ranges are all-day.</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">range1</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-08-30"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">range2</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-08-30"</span><span class="p">);</span>

<span class="nx">range1</span><span class="p">.</span><span class="nx">equals</span><span class="p">(</span><span class="nx">range2</span><span class="p">);</span> <span class="c1">//=&gt; true</span>
<span class="nx">range2</span><span class="p">.</span><span class="nx">equals</span><span class="p">(</span><span class="nx">range1</span><span class="p">);</span> <span class="c1">//=&gt; true</span>
</code></pre>

<h3 id="union">union</h3>

<p>Produce a range that has the minimum start time and the maximum end time of the two ranges.</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">range1</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-30"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">range2</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-27"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-06-13"</span><span class="p">);</span>

<span class="nx">range1</span><span class="p">.</span><span class="nx">union</span><span class="p">(</span><span class="nx">range2</span><span class="p">);</span> <span class="c1">//=&gt; 5/25/82 - 6/13/1982</span>
</code></pre>

<h3 id="intersection">intersection</h3>

<p>Produce a range that has the maximum start time and the minimum end time of the two ranges.</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">range1</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-30"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">range2</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-27"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-06-13"</span><span class="p">);</span>

<span class="nx">range1</span><span class="p">.</span><span class="nx">intersection</span><span class="p">(</span><span class="nx">range2</span><span class="p">);</span> <span class="c1">//=&gt; 5/27/82 - 5/30/1982</span>
</code></pre>

<h3 id="xor">xor</h3>

<p>Returns an array of ranges that are in one range or the other, but not both.</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">range1</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-24"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-28"</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">range2</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-22"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-26"</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">xorred</span> <span class="o">=</span> <span class="nx">range1</span><span class="p">.</span><span class="nx">xor</span><span class="p">(</span><span class="nx">range2</span><span class="p">);</span>

<span class="nx">xorred</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">format</span><span class="p">()</span> <span class="c1">//=&gt; 'May 22 - 23, 1982'</span>
<span class="nx">xorred</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">format</span><span class="p">()</span> <span class="c1">//=&gt; 'May 27 - 28, 1982'</span>
</code></pre>

<p>The array returned may contain 0, 1, or 2 ranges.</p>

<h3 id="difference">difference</h3>

<p>Returns an array of ranges that are in this range but not the target range.</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">range1</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-23"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-28"</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">range2</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-26"</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">diff</span> <span class="o">=</span> <span class="nx">range1</span><span class="p">.</span><span class="nx">difference</span><span class="p">(</span><span class="nx">range2</span><span class="p">);</span>

<span class="nx">diff</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">format</span><span class="p">();</span> <span class="c1">//=&gt; 'May 23 - 24, 1982'</span>
<span class="nx">diff</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">format</span><span class="p">();</span> <span class="c1">//=&gt; 'May 27 - 28, 1982'</span>
</code></pre>

<p>The array returned may contain 0, 1, or 2 ranges.</p>

<h3 id="split">split</h3>

<p>Splits a range into multiple ranges. Can take either a duration, the arguments for creating a duration, or any number of times.</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">range</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25T05:01"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-25T07:30"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">splits</span> <span class="o">=</span> <span class="nx">range</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">"hour"</span><span class="p">);</span>
<span class="nx">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">format</span><span class="p">({</span><span class="na">hideDate</span><span class="p">:</span> <span class="kc">true</span><span class="p">});</span> <span class="c1">//=&gt; '5:01 - 6:01 AM'</span>
<span class="nx">splits</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">format</span><span class="p">({</span><span class="na">hideDate</span><span class="p">:</span> <span class="kc">true</span><span class="p">});</span> <span class="c1">//=&gt; '6:01 - 7:01 AM'</span>
<span class="nx">splits</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">format</span><span class="p">({</span><span class="na">hideDate</span><span class="p">:</span> <span class="kc">true</span><span class="p">});</span> <span class="c1">//=&gt; '7:01 - 7:30 AM'</span>

<span class="c1">//other signatures</span>
<span class="nx">range</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="nx">moment</span><span class="p">.</span><span class="nx">duration</span><span class="p">({</span><span class="s2">"h"</span><span class="p">:</span> <span class="mi">1</span><span class="p">})).</span><span class="nx">length</span><span class="p">;</span> <span class="c1">//=&gt; 3</span>
<span class="nx">range</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25T06:00"</span><span class="p">)).</span><span class="nx">length</span><span class="p">;</span> <span class="c1">//=&gt; 2</span>
<span class="nx">range</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25T06:00"</span><span class="p">),</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25T07:00"</span><span class="p">)).</span><span class="nx">length</span><span class="p">;</span> <span class="c1">//=&gt; 3</span>
</code></pre>

<h3 id="divide">divide</h3>

<p>Divides a range into n evenly-side ranges.</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">divided</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25T05:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-25T07:00"</span><span class="p">).</span><span class="nx">divide</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="nx">divided</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="c1">//=&gt; 2</span>
<span class="nx">divided</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">format</span><span class="p">({</span><span class="na">hideDate</span><span class="p">:</span> <span class="kc">true</span><span class="p">})</span> <span class="c1">//=&gt; '5 - 6 AM'</span>
<span class="nx">divided</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">format</span><span class="p">({</span><span class="na">hideDate</span><span class="p">:</span> <span class="kc">true</span><span class="p">})</span> <span class="c1">//=&gt; '6 - 7 AM'</span>
</code></pre>

<h2 id="moment-durations">Moment durations</h2>

<p>Moment now has <a href="http://momentjs.com/docs/#/durations/">durations</a>, which represent a block of time, but not a <em>specific</em> block of time, just a period of, say, hours or days. Twix provides some utilities for working with durations.</p>

<h3 id="creating-a-range-from-a-duration">Creating a range from a duration</h3>

<p>You can create a range from a duration by anchoring it to a time:</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">"days"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">range</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">afterMoment</span><span class="p">(</span><span class="s2">"1982-05-25"</span><span class="p">);</span> <span class="c1">//=&gt; 5/25/1982 - 5/27/1982</span>
</code></pre>

<p>You can also make the range extend backward by the duration:</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">"days"</span><span class="p">);</span>
<span class="nx">d</span><span class="p">.</span><span class="nx">beforeMoment</span><span class="p">(</span><span class="s2">"1982-05-25"</span><span class="p">);</span> <span class="c1">//=&gt; 5/23/1982 - 5/25/1982</span>
</code></pre>

<h3 id="creating-a-duration-from-a-range">Creating a duration from a range</h3>

<p>You can also create durations from ranges:</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">range</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-28"</span><span class="p">);</span>
<span class="nx">range</span><span class="p">.</span><span class="nx">asDuration</span><span class="p">(</span><span class="s2">"days"</span><span class="p">);</span> <span class="c1">//=&gt; duration object with {days: 3}</span>
</code></pre>

<p>See also <a href="#length">length()</a>.</p>

<h2 id="basic-formatting">Basic formatting</h2>

<p>While Twix&#39;s formatting options focus on <a href="#smart-formatting">smart formatting</a>, it also has a few other formatting methods.</p>

<h3 id="humanizelength">humanizeLength</h3>

<p>Get the length of a range in human-readable terms.</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">range</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25T8:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-25T10:00"</span><span class="p">);</span>
<span class="nx">range</span><span class="p">.</span><span class="nx">humanizeLength</span><span class="p">();</span> <span class="c1">//=&gt; "2 hours"</span>

<span class="nx">range</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"2013-01-01"</span><span class="p">);</span>
<span class="nx">range</span><span class="p">.</span><span class="nx">humanizeLength</span><span class="p">();</span> <span class="c1">//=&gt; 31 years</span>
</code></pre>

<h3 id="simpleformat">simpleFormat</h3>

<p>Simple format produces a very simple string representation of the range. It&#39;s useful if you don&#39;t want all the cleverness of smart formatting. The signature is <code>simpleFormat(momentFormat, options)</code> and both args are optional. Here&#39;s how it works.</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">range</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25T9:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-25T12:00"</span><span class="p">);</span>

<span class="nx">range</span><span class="p">.</span><span class="nx">simpleFormat</span><span class="p">();</span> <span class="c1">//=&gt; '1982-05-25T09:00:00-04:00 - 1982-05-25T12:00:00-04:00'</span>
</code></pre>

<p>But you probably want to pass a Moment <a href="http://momentjs.com/docs/#/displaying/format/">formatting string</a>. It will format both ends of the range accordingly:</p>
<pre class="javascript highlight"><code><span class="nx">range</span><span class="p">.</span><span class="nx">simpleFormat</span><span class="p">(</span><span class="s2">"ddd, hA"</span><span class="p">);</span> <span class="c1">//=&gt; 'Tue, 9AM - Tue, 12PM'</span>
</code></pre>

<p>All-day ranges will add some extra text:</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">range</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-05-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-05-26"</span><span class="p">,</span> <span class="p">{</span><span class="na">allDay</span><span class="p">:</span> <span class="kc">true</span><span class="p">});</span>

<span class="nx">range</span><span class="p">.</span><span class="nx">simpleFormat</span><span class="p">();</span> <span class="c1">//=&gt; '1982-05-25T00:00:00-04:00 - 1982-05-26T00:00:00-04:00 (all day)'</span>
<span class="nx">range</span><span class="p">.</span><span class="nx">simpleFormat</span><span class="p">(</span><span class="nx">YYYY</span><span class="o">-</span><span class="nx">MM</span><span class="o">-</span><span class="nx">DD</span><span class="p">);</span> <span class="c1">//=&gt; '1982-05-25 - 1982-05-26 (all day)'</span>
</code></pre>

<p>You can control that text through the options argument, and even get rid of it altogether:</p>
<pre class="javascript highlight"><code><span class="nx">range</span><span class="p">.</span><span class="nx">simpleFormat</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="p">{</span><span class="na">allDay</span><span class="p">:</span> <span class="s2">"-- all day! --"</span><span class="p">});</span> <span class="c1">//=&gt; '1982-05-25T00:00:00-04:00 - 1982-05-26T00:00:00-04:00 -- all day! --'</span>

<span class="nx">range</span><span class="p">.</span><span class="nx">simpleFormat</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="p">{</span><span class="na">allDay</span><span class="p">:</span> <span class="kc">null</span><span class="p">});</span> <span class="c1">//=&gt; '1982-05-25T00:00:00-04:00 - 1982-05-26T00:00:00-04:00'</span>
</code></pre>

<p>You can also control the spacing and divider. You can set it on individual calls or globally:</p>
<pre class="javascript highlight"><code><span class="nx">range</span><span class="p">.</span><span class="nx">simpleFormat</span><span class="p">(</span><span class="s2">"HH:mm"</span><span class="p">,</span> <span class="p">{</span><span class="na">template</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">left</span><span class="p">,</span> <span class="nx">right</span><span class="p">){</span><span class="k">return</span> <span class="nx">left</span> <span class="o">+</span> <span class="s2">" | "</span> <span class="o">+</span> <span class="nx">right</span><span class="p">;}});</span> <span class="c1">//=&gt; '16:21 | 17:21'</span>
</code></pre>

<p>Or you can set it globally:</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">.</span><span class="nx">twixClass</span><span class="p">.</span><span class="nx">formatTemplate</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">left</span><span class="p">,</span> <span class="nx">right</span><span class="p">){</span><span class="k">return</span> <span class="nx">left</span> <span class="o">+</span> <span class="s2">" | "</span> <span class="o">+</span> <span class="nx">right</span><span class="p">;};</span>
<span class="nx">range</span><span class="p">.</span><span class="nx">simpleFormat</span><span class="p">(</span><span class="s2">"HH:mm"</span><span class="p">);</span> <span class="c1">//=&gt; '16:29 | 17:29'</span>
</code></pre>

<h2 id="smart-formatting">Smart formatting</h2>

<p>The most important feature is formatting. By default, Twix tries to make brief, readable strings.</p>

<h3 id="the-basics">The basics</h3>

<p>Twix&#39;s <code>format</code> method returns a string showing the range. Called with no arguments it uses the default options for how to do that. The most important part of that is that it elides as much redundant information as it can. For example, if the range begins and ends today, it doesn&#39;t specify today&#39;s date twice. This makes for short, natural-looking time ranges.</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-01-25T09:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-01-25T11:00"</span><span class="p">).</span><span class="nx">format</span><span class="p">();</span>  <span class="c1">//=&gt; 'Jan 25, 1982, 9 - 11 AM'</span>
<span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-01-25T9:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-01-26T13:00"</span><span class="p">).</span><span class="nx">format</span><span class="p">();</span> <span class="c1">//=&gt; 'Jan 25, 9 AM - Jan 26, 1 PM, 1982'</span>
</code></pre>

<h3 id="formatting-all-day-ranges">Formatting all-day ranges</h3>

<p><a id="format-all-day-int"></a></p>

<p>All day ranges won&#39;t show times: they&#39;re just assumed to take up the full day local time.</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s2">"2012-01-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"2012-01-25"</span><span class="p">,</span> <span class="p">{</span><span class="na">allDay</span><span class="p">:</span> <span class="kc">true</span><span class="p">}).</span><span class="nx">format</span><span class="p">();</span>   <span class="c1">//=&gt; Jan 25</span>
<span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-01-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-01-25"</span><span class="p">,</span> <span class="p">{</span><span class="na">allDay</span><span class="p">:</span> <span class="kc">true</span><span class="p">}).</span><span class="nx">format</span><span class="p">();</span>   <span class="c1">//=&gt; Jan 25, 1982</span>
<span class="nx">moment</span><span class="p">(</span><span class="s2">"2012-01-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"2012-01-26"</span><span class="p">,</span> <span class="p">{</span><span class="na">allDay</span><span class="p">:</span> <span class="kc">true</span><span class="p">}).</span><span class="nx">format</span><span class="p">();</span>   <span class="c1">//=&gt; Jan 25 - 26</span>
<span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-01-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-02-25"</span><span class="p">,</span> <span class="p">{</span><span class="na">allDay</span><span class="p">:</span> <span class="kc">true</span><span class="p">}).</span><span class="nx">format</span><span class="p">();</span>   <span class="c1">//=&gt; Jan 25 - Feb 25, 1982</span>
<span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-01-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span> <span class="p">{</span><span class="na">allDay</span><span class="p">:</span> <span class="kc">true</span><span class="p">}).</span><span class="nx">format</span><span class="p">();</span>    <span class="c1">//=&gt; Jan 25, 1982 - Jan 9, 2012</span>
</code></pre>

<p>Notice the various the different kinds of groupings and abbreviations:</p>

<ul>
<li>If the entire range occurs within the current year, Twix doesn&#39;t show the year.</li>
<li>Twix only shows the year and month once if they&#39;re consistent across the range.</li>
<li>If it&#39;s all the same day, Twix doesn&#39;t show a range at all.</li>
</ul>

<h3 id="ranges-with-hours-and-minutes">Ranges with hours and minutes</h3>

<p>Unless the allDay parameter is set to true, the time is considered relevant:</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-01-25T9:30"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1/25/1982 1:30 PM"</span><span class="p">).</span><span class="nx">format</span><span class="p">();</span>  <span class="c1">//=&gt; Jan 25, 1982, 9:30 AM - 1:30 PM</span>
<span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-01-25T9:30"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">()).</span><span class="nx">format</span><span class="p">();</span>           <span class="c1">//=&gt; Jan 25, 1982, 9:30 AM - Jan 9, 2012, 3:05 AM</span>
<span class="nx">moment</span><span class="p">(</span><span class="s2">"1982-01-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"1982-01-27"</span><span class="p">).</span><span class="nx">format</span><span class="p">();</span>              <span class="c1">//=&gt; Jan 25, 12 AM - Jan 27, 12 AM, 1982</span>
</code></pre>

<h3 id="brevity-and-its-discontents">Brevity and its discontents</h3>

<p>Twix chops off the <code>:00</code> on whole hours and, where possible, only display AM/PM once. This can be turned off:</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">twix</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">(</span><span class="s2">"2012-05-25T9:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"2012-05-25T10:00"</span><span class="p">);</span>

<span class="nx">twix</span><span class="p">.</span><span class="nx">format</span><span class="p">();</span>                                                    <span class="c1">//=&gt; May 25, 9 - 10 AM</span>
<span class="nx">twix</span><span class="p">.</span><span class="nx">format</span><span class="p">({</span><span class="na">implicitMinutes</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="na">groupMeridiems</span><span class="p">:</span> <span class="kc">false</span><span class="p">});</span>     <span class="c1">//=&gt; May 25, 9:00 AM - 10:00 AM</span>
</code></pre>

<p>There&#39;s an <code>implicitYear</code> option, which you can use to always show the year, even when it&#39;s this year:</p>
<pre class="javascript highlight"><code><span class="kd">var</span> <span class="nx">twix</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">().</span><span class="nx">twix</span><span class="p">(</span><span class="nx">moment</span><span class="p">().</span><span class="nx">add</span><span class="p">(</span><span class="s1">'days'</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
<span class="nx">twix</span><span class="p">.</span><span class="nx">format</span><span class="p">({</span><span class="na">implicitYear</span><span class="p">:</span> <span class="kc">false</span><span class="p">});</span> <span class="c1">//=&gt; Mar 28, 1:13 AM - Mar 29, 1:13 AM, 2013</span>
</code></pre>

<p>Finally, <code>implicitDate</code> is just like <code>implicitYear</code> but for hiding the date if it&#39;s today. But it defaults to <code>false</code>.</p>

<h3 id="24-hour-time">24-hour time</h3>

<p>Right, not everyone is American. If you use a Moment locale for the range&#39;s start, like &quot;en-gb&quot;, Twix will automatically use its hour format setting.</p>

<p>Otherwise, simply override the <code>hourFormat</code> option.</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s2">"2012-05-25T16:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"2012-05-25T17:00"</span><span class="p">).</span><span class="nx">format</span><span class="p">({</span><span class="na">hourFormat</span><span class="p">:</span> <span class="s2">"H"</span><span class="p">});</span>
<span class="c1">//=&gt; May 25, 16:00 - 17:00</span>
</code></pre>

<p>This uses Moment&#39;s formatting tokens (&quot;H&quot; = 1- or 2-digit 24-hour time, &quot;HH&quot; = always 2-digit, whereas &quot;h&quot; and &quot;hh&quot; are the American versions). Notice there minutes are there in 24-hour time even if they&#39;re zero.</p>

<p>The old <code>twentyFourHour: true</code> setting is no longer supported.</p>

<h3 id="changing-the-format">Changing the format</h3>

<p>I&#39;ve made the format hackable, allowing you to specify the Moment formatting parameters externally -- these are what Twix uses to format the bits and pieces of text it glues together. You can use that to adjust how, say, months are displayed:</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s2">"2012-01-25T8:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"2012-01-25T17:00"</span><span class="p">).</span><span class="nx">format</span><span class="p">({</span>
  <span class="na">monthFormat</span><span class="p">:</span> <span class="s2">"MMMM"</span><span class="p">,</span>
  <span class="na">dayFormat</span><span class="p">:</span> <span class="s2">"Do"</span>
<span class="p">});</span>                                                   <span class="c1">//=&gt; January 25th, 8 AM - 5 PM</span>
</code></pre>

<p>See all the <code>*Format</code> options below. You should look at <a href="http://momentjs.com/docs/#/displaying/format/">Moment&#39;s format documentation</a> for more info. YMMV -- because of the string munging, not everything will act quite like you expect.</p>

<h3 id="hiding-things">Hiding things</h3>

<p>You can get rid of the space before the meridiem:</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s2">"2012-05-25T8:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"2012-05-25T17:00"</span><span class="p">).</span><span class="nx">format</span><span class="p">({</span><span class="na">spaceBeforeMeridiem</span><span class="p">:</span> <span class="kc">false</span><span class="p">});</span>
<span class="c1">//=&gt; May 25, 8AM - 5PM</span>
</code></pre>

<p>If you&#39;re showing the date somewhere else, it&#39;s sometimes useful to only show the times:</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s2">"2012-05-25T8:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"2012-05-25T17:00"</span><span class="p">).</span><span class="nx">format</span><span class="p">({</span><span class="na">hideDate</span><span class="p">:</span> <span class="kc">true</span><span class="p">});</span> <span class="c1">//=&gt; 8 AM - 5 PM</span>
</code></pre>

<p>If you combine an all-day range with <code>hideDate: true</code>, you get this:</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s2">"2012-01-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"2012-01-25"</span><span class="p">,</span> <span class="p">{</span><span class="na">allDay</span><span class="p">:</span> <span class="kc">true</span><span class="p">}).</span><span class="nx">format</span><span class="p">({</span><span class="na">hideDate</span><span class="p">:</span> <span class="kc">true</span><span class="p">});</span> <span class="c1">//=&gt; All day</span>
</code></pre>

<p>That text is customizable through the <code>allDay</code> option.</p>

<p>If you would like to hide the times you can use <code>hideTime: true</code>:</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s2">"2012-05-25T8:00"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"2012-05-27T17:00"</span><span class="p">).</span><span class="nx">format</span><span class="p">({</span><span class="na">hideTime</span><span class="p">:</span> <span class="kc">true</span><span class="p">});</span> <span class="c1">//=&gt; May 25 - 27, 2012</span>
</code></pre>

<p>If you would like to hide the year, specify <code>hideYear: true</code>:</p>
<pre class="javascript highlight"><code><span class="nx">moment</span><span class="p">(</span><span class="s2">"2012-05-25"</span><span class="p">).</span><span class="nx">twix</span><span class="p">(</span><span class="s2">"2012-05-27"</span><span class="p">).</span><span class="nx">format</span><span class="p">({</span><span class="na">hideYear</span><span class="p">:</span> <span class="kc">true</span><span class="p">});</span> <span class="c1">//=&gt; May 25 - May 27</span>
</code></pre>

<h3 id="all-the-options">All the options</h3>

<p>Here are all the options and their defaults</p>
<pre class="javascript highlight"><code><span class="p">{</span>
  <span class="nl">groupMeridiems</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">spaceBeforeMeridiem</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">showDayOfWeek</span><span class="err">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">hideTime</span><span class="err">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">hideDate</span><span class="err">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">hideYear</span><span class="err">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">implicitMinutes</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">implicitDate</span><span class="err">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">implicitYear</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">yearFormat</span><span class="err">:</span> <span class="s2">"YYYY"</span><span class="p">,</span>
  <span class="nx">monthFormat</span><span class="err">:</span> <span class="s2">"MMM"</span><span class="p">,</span>
  <span class="nx">weekdayFormat</span><span class="err">:</span> <span class="s2">"ddd"</span><span class="p">,</span>
  <span class="nx">dayFormat</span><span class="err">:</span> <span class="s2">"D"</span><span class="p">,</span>
  <span class="nx">meridiemFormat</span><span class="err">:</span> <span class="s2">"A"</span><span class="p">,</span>
  <span class="nx">hourFormat</span><span class="err">:</span> <span class="s2">"h"</span><span class="p">,</span>
  <span class="nx">minuteFormat</span><span class="err">:</span> <span class="s2">"mm"</span><span class="p">,</span>
  <span class="nx">allDay</span><span class="err">:</span> <span class="s2">"all day"</span><span class="p">,</span>
  <span class="nx">explicitAllDay</span><span class="err">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">lastNightEndsAt</span><span class="err">:</span> <span class="mi">0</span>
<span class="p">}</span>
</code></pre>

<h2 id="source-code">Source code</h2>

<p>Twix is open source (MIT License) and hosted on Github <a href="http://github.com/icambron/twix.js">here</a>. Instructions for building/contributing are there.</p>
</div><div class="col-md-3"><div data-offset-top="40" data-spy="affix" id="toc"><ul>
<li>
<a href="#getting-started">Getting started</a>
<ul>
<li>
<a href="#browser">Browser</a>
</li>
<li>
<a href="#browser-with-requirejs">Browser with RequireJS</a>
</li>
<li>
<a href="#node-js">Node.js</a>
</li>
</ul>
</li>
<li>
<a href="#creating-ranges">Creating ranges</a>
<ul>
<li>
<a href="#inputs-accepted">Inputs accepted</a>
</li>
<li>
<a href="#using-all-day-ranges">Using all-day ranges</a>
</li>
</ul>
</li>
<li>
<a href="#basic-operations">Basic operations</a>
<ul>
<li>
<a href="#isvalid">isValid</a>
</li>
<li>
<a href="#issame">isSame</a>
</li>
<li>
<a href="#ispast">isPast</a>
</li>
<li>
<a href="#isfuture">isFuture</a>
</li>
<li>
<a href="#iscurrent">isCurrent</a>
</li>
<li>
<a href="#contains">contains</a>
</li>
<li>
<a href="#length">length</a>
</li>
<li>
<a href="#count">count</a>
</li>
<li>
<a href="#countinner">countInner</a>
</li>
<li>
<a href="#iterate">iterate</a>
</li>
<li>
<a href="#iterateinner">iterateInner</a>
</li>
<li>
<a href="#toarray">toArray</a>
</li>
<li>
<a href="#start">start</a>
</li>
<li>
<a href="#end">end</a>
</li>
</ul>
</li>
<li>
<a href="#multiple-ranges">Multiple ranges</a>
<ul>
<li>
<a href="#overlaps">overlaps</a>
</li>
<li>
<a href="#engulfs">engulfs</a>
</li>
<li>
<a href="#equals">equals</a>
</li>
<li>
<a href="#union">union</a>
</li>
<li>
<a href="#intersection">intersection</a>
</li>
<li>
<a href="#xor">xor</a>
</li>
<li>
<a href="#difference">difference</a>
</li>
<li>
<a href="#split">split</a>
</li>
<li>
<a href="#divide">divide</a>
</li>
</ul>
</li>
<li>
<a href="#moment-durations">Moment durations</a>
<ul>
<li>
<a href="#creating-a-range-from-a-duration">Creating a range from a duration</a>
</li>
<li>
<a href="#creating-a-duration-from-a-range">Creating a duration from a range</a>
</li>
</ul>
</li>
<li>
<a href="#basic-formatting">Basic formatting</a>
<ul>
<li>
<a href="#humanizelength">humanizeLength</a>
</li>
<li>
<a href="#simpleformat">simpleFormat</a>
</li>
</ul>
</li>
<li>
<a href="#smart-formatting">Smart formatting</a>
<ul>
<li>
<a href="#the-basics">The basics</a>
</li>
<li>
<a href="#formatting-all-day-ranges">Formatting all-day ranges</a>
</li>
<li>
<a href="#ranges-with-hours-and-minutes">Ranges with hours and minutes</a>
</li>
<li>
<a href="#brevity-and-its-discontents">Brevity and its discontents</a>
</li>
<li>
<a href="#24-hour-time">24-hour time</a>
</li>
<li>
<a href="#changing-the-format">Changing the format</a>
</li>
<li>
<a href="#hiding-things">Hiding things</a>
</li>
<li>
<a href="#all-the-options">All the options</a>
</li>
</ul>
</li>
<li>
<a href="#source-code">Source code</a>
</li>
</ul>
</div></div></div></div></body></html>